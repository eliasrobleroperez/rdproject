{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/analisis/analisis.component.ts","webpack:///src/app/analisis/analisis.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/colocar-marcadores/colocar-marcadores.component.ts","webpack:///src/app/colocar-marcadores/colocar-marcadores.component.html","webpack:///src/app/guards/permiso-ver.guard.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/mapa/mapa.component.ts","webpack:///src/app/mapa/mapa.component.html","webpack:///src/app/navbar/navbar.component.html","webpack:///src/app/navbar/navbar.component.ts","webpack:///src/app/register/register.component.ts","webpack:///src/app/register/register.component.html","webpack:///src/app/service/crud.service.ts","webpack:///src/app/visualizar-ubicacion-mapa/visualizar-ubicacion-mapa.component.ts","webpack:///src/app/visualizar-ubicacion-mapa/visualizar-ubicacion-mapa.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AnalisisComponent","crudService","numero","obtenerUbicacion","get_Ubicaciones","subscribe","data","Ubicaciones","map","payload","doc","latitud","longitud","fecha","selector","templateUrl","styleUrls","routes","path","redirectTo","pathMatch","component","canActivate","AppRoutingModule","forRoot","declarations","imports","AppComponent","title","AppModule","initializeApp","firebase","providers","bootstrap","ColocarMarcadoresComponent","router","marcador","isMarcadorGuardadoBD","permitirColocarMarcador","isMarcadorColocadoMapa","urlAPIMapa","iconoMarcador","iconSize","iconAnchor","iconUrl","inicializarMapa","agregarQuitarMarcadorClick","obtenerMarcador","mapa","setView","maxZoom","attribution","addTo","doubleClickZoom","disable","get_Marcador","Marcador","distancia","length","icon","bindPopup","openPopup","addLayer","idMarcador","crearNuevaMarcador","res","undefined","console","log","error","navigate","removeLayer","eliminarMarcador","on","latitudLongitud","mouseEventToLatLng","originalEvent","lat","lng","PermisoVerGuard","authService","userData$","pipe","user","providedIn","LoginComponent","form","email","password","value","loginUserEmail","window","alert","onLogin","MapaComponent","rutaActiva","snapshot","params","mark","NavbarComponent","user$","afsAuth","logOut","RegisterComponent","register","onRegister","CrudService","fireservice","authState","collection","add","snapshotChanges","ubicacion","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","VisualizarUbicacionMapaComponent","pubnub","pnChannel","Date","now","fueraRango","marcadorExistente","cambiarPosicionMarcador","addListener","message","medirDistancia","rango","getLatLng","getRadius","setStyle","color","latitudFuera","longitudFuera","crearUbicacionGanadoAlejado","init","publishKey","subscribeKey","channels","MarcadorCentral","circle","Ubicacion","crearUbicacionFueraLimite","latCircle","lngCircle","distance","environment","production","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","bootstrapModule","err"],"mappings":";;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACuBoB;;AACI;;AAAgB;;AAAoB;;AACpC;;AAAK;;;;AAAmC;;AACxC;;AAAK;;AAAqB;;AAC1B;;AAAI;;AAAsB;;AAC1B;;AAAI;;AAAiE;;AAAW;;AAAI;;AACxF;;;;;;AALoB;;AAAA;;AACX;;AAAA;;AACA;;AAAA;;AACD;;AAAA;;AACG;;AAAA;;;;QDnBlBC,iB;;;AAIX,iCAAmBC,WAAnB,EAA6C;AAAA;;AAA1B,aAAAA,WAAA,GAAAA,WAAA;AAFnB,aAAAC,MAAA,GAAiB,CAAjB;AAEgD;;;;mCAExC;AACN,eAAKC,gBAAL;AACD;;;2CAEkB;AAAA;;AACjB,eAAKF,WAAL,CAAiBG,eAAjB,GAAmCC,SAAnC,CAA6C,UAAAC,IAAI,EAAI;AACnD,iBAAI,CAACC,WAAL,GAAmBD,IAAI,CAACE,GAAL,CAAS,UAAAf,CAAC,EAAI;AAC/B,qBAAO;AACLM,kBAAE,EAAEN,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcX,EADb;AAELG,sBAAM,EAAE,KAAI,CAACA,MAAL,EAFH;AAGLS,uBAAO,EAAElB,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,SAArB,CAHJ;AAILM,wBAAQ,EAAEnB,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,UAArB,CAJL;AAKLO,qBAAK,EAAEpB,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,OAArB;AALF,eAAP;AAOD,aARkB,CAAnB;AASD,WAVD;AAWD;;;;;;;uBAtBUN,iB,EAAiB,kI;AAAA,K;;;YAAjBA,iB;AAAiB,mC;AAAA,e;AAAA,a;AAAA,qP;AAAA;AAAA;ACT9B;;AACI;;AAAI;;AACJ;;AAAqB;;AACb;;AAAI;;AAAwB;;AAChC;;AAAO;;AACX;;AAAuB;;AACf;;AAAI;;AACgD;;AACxD;;AAAO;;AACX;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAgB;;AAAC;;AACjB;;AAAgB;;AAAK;;AACrB;;AAAiB;;AAAO;;AACxB;;AAAgB;;AAAQ;;AACxB;;AAAgB;;AAAU;;AAC9B;;AACJ;;AACA;;AACI;;AAOJ;;AACJ;;AACJ;;AAEJ;;AACJ;;;;AAZwB;;AAAA;;;;;;;;;;sEDdXA,iB,EAAiB;cAL7B,uDAK6B;eALnB;AACTc,kBAAQ,EAAE,cADD;AAETC,qBAAW,EAAE,2BAFJ;AAGTC,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKmB,Q;;;;;;;;;;;;;;;;;;;;;;AET9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAWA,QAAMC,MAAM,GAAU,CACpB;AAACC,UAAI,EAAE,EAAP;AAAWC,gBAAU,EAAE,aAAvB;AAAsCC,eAAS,EAAE;AAAjD,KADoB,EAEpB;AAACF,UAAI,EAAE,YAAP;AAAqBG,eAAS,EAAE,+HAAhC;AAAkEC,iBAAW,EAAE,CAAC,yEAAD;AAA/E,KAFoB,EAGpB;AAACJ,UAAI,EAAE,UAAP;AAAmBG,eAAS,EAAE,2GAA9B;AAA0DC,iBAAW,EAAE,CAAC,yEAAD;AAAvE,KAHoB,EAIpB;AAACJ,UAAI,EAAE,kBAAP;AAA2BG,eAAS,EAAE,8EAAtC;AAAyDC,iBAAW,EAAE,CAAC,yEAAD;AAAtE,KAJoB,EAKpB;AAACJ,UAAI,EAAE,yBAAP;AAAkCG,eAAS,EAAE;AAA7C,KALoB,EAMpB;AAACH,UAAI,EAAE,OAAP;AAAgBG,eAAS,EAAE;AAA3B,KANoB,EAOpB;AAACH,UAAI,EAAE,UAAP;AAAmBG,eAAS,EAAE;AAA9B,KAPoB,CAAtB;;QAkBaE,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBALlB,CACP,6DAAaC,OAAb,CAAqBP,MAArB,CADO,CAKkB,EAFlB,4DAEkB;;;;0HAAhBM,gB,EAAgB;AAAA;AAAA,kBAFlB,4DAEkB;AAAA,O;AAFN,K;;;;;sEAEVA,gB,EAAgB;cAP5B,sDAO4B;eAPnB;AACRE,sBAAY,EAAE,EADN;AAERC,iBAAO,EAAE,CACP,6DAAaF,OAAb,CAAqBP,MAArB,CADO,CAFD;AAKRnB,iBAAO,EAAC,CAAC,4DAAD;AALA,S;AAOmB,Q;;;;;;;;;;;;;;;;;;AC7B7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQa6B,Y,GAGX,sBAAmB1B,WAAnB,EAA2C;AAAA;;AAAxB,WAAAA,WAAA,GAAAA,WAAA;AAFnB,WAAA2B,KAAA,GAAQ,aAAR;AAE+C,K;;;uBAHpCD,Y,EAAY,kI;AAAA,K;;;YAAZA,Y;AAAY,+B;AAAA,c;AAAA,a;AAAA;AAAA;ACRzB;;AACA;;AACE;;AACF;;;;;;;;;sEDKaA,Y,EAAY;cALxB,uDAKwB;eALd;AACTb,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,sBAFJ;AAGTC,mBAAS,EAAE,CAAC,qBAAD;AAHF,S;AAKc,Q;;;;;;;;;;;;;;;;;;;;;;AERzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,6C,CASA;AAGA;AAGA;;;QAwCaa,S;;;;;YAAAA,S;AAAS,kBAFR,4DAEQ;;;;yBAATA,S;AAAS,O;AAAA,iBAHT,CAAC,iEAAD,EAAa,8DAAb,EAA4B,0EAA5B,C;AAA4C,gBAX9C,CACP,uEADO,EAEP,0DAFO,EAGP,gEAAkBC,aAAlB,CAAgC,sEAAYC,QAA5C,CAHO,EAIP,gFAJO,EAKP,8EALO,EAMP,qEANO,EAOP,qEAPO,EAQP,kEARO,EASP,wEATO,CAW8C;;;;0HAG5CF,S,EAAS;AAAA,uBAvBlB,4DAuBkB,EAtBlB,gIAsBkB,EArBlB,4GAqBkB,EApBlB,+EAoBkB,EAnBlB,mEAmBkB,EAlBlB,sEAkBkB,EAjBlB,+EAiBkB,EAhBlB,yEAgBkB;AAhBH,kBAGf,uEAHe,EAIf,0DAJe,EAIJ,+DAJI,EAMf,gFANe,EAOf,8EAPe,EAQf,qEARe,EASf,qEATe,EAUf,kEAVe,EAWf,wEAXe;AAgBG,O;AALG,K;;;;;sEAKZA,S,EAAS;cAzBrB,sDAyBqB;eAzBZ;AACRJ,sBAAY,EAAE,CACZ,4DADY,EAEZ,gIAFY,EAGZ,4GAHY,EAIZ,+EAJY,EAKZ,mEALY,EAMZ,sEANY,EAOZ,+EAPY,EAQZ,yEARY,CADN;AAWRC,iBAAO,EAAE,CACP,uEADO,EAEP,0DAFO,EAGP,gEAAkBI,aAAlB,CAAgC,sEAAYC,QAA5C,CAHO,EAIP,gFAJO,EAKP,8EALO,EAMP,qEANO,EAOP,qEAPO,EAQP,kEARO,EASP,wEATO,CAXD;AAsBRC,mBAAS,EAAE,CAAC,iEAAD,EAAa,8DAAb,EAA4B,0EAA5B,CAtBH;AAuBRC,mBAAS,EAAE,CAAC,4DAAD;AAvBH,S;AAyBY,Q;;;;;;;;;;;;;;;;;;ACvDtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACUM;;AACE;;AACA;;AAAK;;AAEL;;AACA;;AACE;;AAA0C;AAAA;;AAAA;;AAAA;AAAA;;AAA1C;;AACF;;AACA;;AACE;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAO;;AACrC;;AACF;;;;;;AAN8C;;AAAA;;AAGV;;AAAA;;;;;;;;AAMlC;;AACE;;AACA;;AAAI;;AAAuE;;AAC3E;;AACE;;AAA+B;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAQ;;AACtE;;AACA;;AACE;;AAAM;;AAAG;;AAAS;;AAAK;;AACvB;;AAAgE;AAAA;;AAAA;;AAAA;AAAA;;AAAhE;;AAEF;;AACA;;AACF;;;;;;AAJoE;;AAAA;;;;QDvB/DC,0B;;;AAaX,0CAAmBjC,WAAnB,EAAoDkC,MAApD,EAAoE;AAAA;;AAAjD,aAAAlC,WAAA,GAAAA,WAAA;AAAiC,aAAAkC,MAAA,GAAAA,MAAA;AAVpD,aAAAC,QAAA,GAAW,IAAX;AAKA,aAAAC,oBAAA,GAAgC,KAAhC;AACA,aAAAC,uBAAA,GAAmC,IAAnC;AACA,aAAAC,sBAAA,GAAkC,KAAlC;AACA,aAAAC,UAAA,GAAa,qDAAb;AAyFA,aAAAC,aAAA,GAAgB,6CAAO;AACrBC,kBAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,CADW;AAErBC,oBAAU,EAAE,CAAC,EAAD,EAAK,EAAL,CAFS;AAGrBC,iBAAO,EAAE;AAHY,SAAP,CAAhB;AAvFuE;;;;mCAE/D;AACN,eAAKC,eAAL;AACA,eAAKC,0BAAL;AACA,eAAKC,eAAL;AACD;;;0CAEsB;AACrB,eAAKC,IAAL,GAAY,4CAAM,MAAN,EAAcC,OAAd,CAAsB,CAAC,kBAAD,EAAqB,CAAC,iBAAtB,CAAtB,EAAgE,EAAhE,CAAZ;AACA,4DAAY,KAAKT,UAAjB,EAA6B;AAC3BU,mBAAO,EAAE,EADkB;AAE3BC,uBAAW,EAAE;AAFc,WAA7B,EAGGC,KAHH,CAGS,KAAKJ,IAHd;AAIA,eAAKA,IAAL,CAAUK,eAAV,CAA0BC,OAA1B;AACD;;;0CAEiB;AAAA;;AAChB,eAAKrD,WAAL,CAAiBsD,YAAjB,GAAgClD,SAAhC,CAA0C,UAAAC,IAAI,EAAI;AAChD,kBAAI,CAACkD,QAAL,GAAgBlD,IAAI,CAACE,GAAL,CAAS,UAAAf,CAAC,EAAI;AAC5B,qBAAO;AACLM,kBAAE,EAAEN,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcX,EADb;AAELY,uBAAO,EAAElB,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,SAArB,CAFJ;AAGLM,wBAAQ,EAAEnB,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,UAArB,CAHL;AAILmD,yBAAS,EAAEhE,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,WAArB;AAJN,eAAP;AAMD,aAPe,CAAhB;;AAQA,gBAAI,MAAI,CAACkD,QAAL,CAAcE,MAAd,IAAwB,CAA5B,EAA+B;AAC7B,oBAAI,CAACtB,QAAL,GAAgB,+CAAS,CAAC,MAAI,CAACoB,QAAL,CAAc,CAAd,EAAiB7C,OAAlB,EAA2B,MAAI,CAAC6C,QAAL,CAAc,CAAd,EAAiB5C,QAA5C,CAAT,EAAgE;AAC9E+C,oBAAI,EAAE,MAAI,CAAClB;AADmE,eAAhE,EAGbmB,SAHa,CAGH,MAHG,EAGKC,SAHL,EAAhB;;AAIA,oBAAI,CAACb,IAAL,CAAUc,QAAV,CAAmB,MAAI,CAAC1B,QAAxB;;AACA,oBAAI,CAACqB,SAAL,GAAiB,MAAI,CAACD,QAAL,CAAc,CAAd,EAAiBC,SAAlC;AACA,oBAAI,CAACM,UAAL,GAAkB,MAAI,CAACP,QAAL,CAAc,CAAd,EAAiBzD,EAAnC;AACA,oBAAI,CAACsC,oBAAL,GAA4B,IAA5B;AACA,oBAAI,CAACC,uBAAL,GAA+B,KAA/B;AACD;AACF,WApBD;AAqBD;;;wCAEe;AAAA;;AACd,cAAIkB,QAAQ,GAAG,EAAf;AACAA,kBAAQ,CAAC,SAAD,CAAR,GAAsB,KAAK7C,OAA3B;AACA6C,kBAAQ,CAAC,UAAD,CAAR,GAAuB,KAAK5C,QAA5B;AACA4C,kBAAQ,CAAC,WAAD,CAAR,GAAwB,KAAKC,SAA7B;AACA,eAAKxD,WAAL,CAAiB+D,kBAAjB,CAAoCR,QAApC,EAA8ChE,IAA9C,CAAmD,UAAAyE,GAAG,EAAI;AACxD,kBAAI,CAACtD,OAAL,GAAeuD,SAAf;AACA,kBAAI,CAACtD,QAAL,GAAgBsD,SAAhB;AACAC,mBAAO,CAACC,GAAR,CAAYH,GAAZ;AACD,WAJD,WAIS,UAAAI,KAAK,EAAI;AAChBF,mBAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,WAND;AAOA,eAAKlC,MAAL,CAAYmC,QAAZ,CAAqB,CAAC,aAAD,CAArB;AACAH,iBAAO,CAACC,GAAR,CAAY,iBAAZ;AACD;;;2CAEkB;AACjB,eAAKpB,IAAL,CAAUuB,WAAV,CAAsB,KAAKnC,QAA3B;AACA,eAAKE,uBAAL,GAA+B,IAA/B;AACA,eAAKrC,WAAL,CAAiBuE,gBAAjB,CAAkC,KAAKT,UAAvC;AACA,eAAKxB,sBAAL,GAA8B,KAA9B;AACA,eAAKF,oBAAL,GAA4B,KAA5B;AACA,eAAKoB,SAAL,GAAiBS,SAAjB;AACAC,iBAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;;;qDAE4B;AAAA;;AAC3B,eAAKpB,IAAL,CAAUyB,EAAV,CAAa,UAAb,EAAyB,UAAAhF,CAAC,EAAI;AAC5B,gBAAIiF,eAAe,GAAG,MAAI,CAAC1B,IAAL,CAAU2B,kBAAV,CAA6BlF,CAAC,CAACmF,aAA/B,CAAtB;;AAEA,gBAAI,MAAI,CAACrC,sBAAT,EAAiC;AAC/B,oBAAI,CAACS,IAAL,CAAUuB,WAAV,CAAsB,MAAI,CAACnC,QAA3B;;AACA,oBAAI,CAACG,sBAAL,GAA8B,KAA9B;AAED,aAJD,MAIO,IAAI,CAAC,MAAI,CAACA,sBAAN,IAAgC,MAAI,CAACD,uBAAzC,EAAkE;AACvE,oBAAI,CAAC3B,OAAL,GAAe+D,eAAe,CAACG,GAA/B;AACA,oBAAI,CAACjE,QAAL,GAAgB8D,eAAe,CAACI,GAAhC;AACA,oBAAI,CAAC1C,QAAL,GAAgB,+CAAS,CAACsC,eAAe,CAACG,GAAjB,EAAsBH,eAAe,CAACI,GAAtC,CAAT,EAAqD;AACnEnB,oBAAI,EAAE,MAAI,CAAClB;AADwD,eAArD,EAGbW,KAHa,CAGP,MAAI,CAACJ,IAHE,CAAhB;AAIA,oBAAI,CAACT,sBAAL,GAA8B,IAA9B;AACD;AACF,WAhBD;AAiBD;;;;;;;uBAlGUL,0B,EAA0B,kI,EAAA,uH;AAAA,K;;;YAA1BA,0B;AAA0B,6C;AAAA,e;AAAA,a;AAAA,ooB;AAAA;AAAA;ACVvC;;AACE;;AACE;;AAGA;;AACE;;AAAI;;AACJ;;AACE;;AAAI;;AAAkB;;AACxB;;AACA;;AAcA;;AAeF;;AACF;;AAEF;;;;;;AAhC6B;;AAAA,sGAAmD,UAAnD,EAAmD,GAAnD;;;;;;;;;sEDAhBA,0B,EAA0B;cALtC,uDAKsC;eAL5B;AACTpB,kBAAQ,EAAE,wBADD;AAETC,qBAAW,EAAE,qCAFJ;AAGTC,mBAAS,EAAE,CAAC,oCAAD;AAHF,S;AAK4B,Q;;;;;;;;;;;;;;;;;;;;;;;;AEVvC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASa+D,e;;;AAEX,+BAAoBC,WAApB,EAAsD7C,MAAtD,EAAsE;AAAA;;AAAlD,aAAA6C,WAAA,GAAAA,WAAA;AAAkC,aAAA7C,MAAA,GAAAA,MAAA;AAAmB;;;;sCAC9D;AAAA;;AACT,iBAAO,KAAK6C,WAAL,CAAiBC,SAAjB,CAA2BC,IAA3B,CACL,4DAAK,CAAL,CADK,EAEL,2DAAI,UAACC,IAAD,EAAU;AACZ,gBAAI,CAACA,IAAL,EAAW;AACT,oBAAI,CAAChD,MAAL,CAAYmC,QAAZ,CAAqB,CAAC,QAAD,CAArB;;AACA,qBAAO,KAAP;AACD;;AACD,mBAAO,IAAP;AACD,WAND,CAFK,CAAP;AAUD;;;;;;;uBAdUS,e,EAAe,yH,EAAA,8G;AAAA,K;;;aAAfA,e;AAAe,eAAfA,eAAe,K;AAAA,kBAFd;;;;;sEAEDA,e,EAAe;cAH3B,wDAG2B;eAHhB;AACVK,oBAAU,EAAE;AADF,S;AAGgB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCAfC,c;;;AAQX,8BAAoBL,WAApB,EAAsD7C,MAAtD,EAAsE;AAAA;;AAAlD,aAAA6C,WAAA,GAAAA,WAAA;AAAkC,aAAA7C,MAAA,GAAAA,MAAA;AALtD,aAAAmD,IAAA,GAAO,IAAI,wDAAJ,CAAc;AACnBC,eAAK,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CADY;AAEnBC,kBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB;AAFS,SAAd,CAAP;AAKyE;;;;mCAEjE,CACP;;;kCAEe;;;;;;;;;;uCACc,KAAKF,IAAL,CAAUG,K,EAA9BF,K,oBAAAA,K,EAAOC,Q,oBAAAA,Q;;;AAEA,2BAAM,KAAKR,WAAL,CAAiBU,cAAjB,CAAgCH,KAAhC,EAAuCC,QAAvC,CAAN;;;AAAPL,wB;;AACN,wBAAIA,IAAJ,EAAU;AACR,2BAAKhD,MAAL,CAAYmC,QAAZ,CAAqB,CAAC,cAAD,CAArB;AACD;;;;;;;;AAEDqB,0BAAM,CAACC,KAAP,CAAa,+BAAb;AACAzB,2BAAO,CAACC,GAAR;;;;;;;;;AAGH;;;;;;;uBAzBUiB,c,EAAc,kI,EAAA,uH;AAAA,K;;;YAAdA,c;AAAc,gC;AAAA,e;AAAA,a;AAAA,qb;AAAA;AAAA;ACT3B;;AACI;;AACI;;AAAI;;AAAgB;;AACpB;;AAAyB;AAAA,mBAAY,IAAAQ,OAAA,EAAZ;AAAqB,WAArB;;AACrB;;AACI;;AAAO;;AAAK;;AACZ;;AAAiE;AAAA;AAAA;;AAAjE;;AAEJ;;AACA;;AACI;;AAAO;;AAAU;;AACjB;;AAAuE;AAAA;AAAA;;AAAvE;;AACJ;;AACA;;AACI;;AAA+E;;AAAc;;AACjG;;AACA;;AACI;;AAAO;;AAAwC;;AAAW;;AAAI;;AAClE;;AACJ;;AACJ;;AACJ;;;;AAlBc;;AAAA;;AAGmE;;AAAA;;AAKM;;AAAA;;AAGzB;;AAAA;;AAGpC;;AAAA;;;;;;;;;sEDRbR,c,EAAc;cAL1B,uDAK0B;eALhB;AACTvE,kBAAQ,EAAE,WADD;AAETC,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,uBAAD;AAHF,S;AAKgB,Q;;;;;;;;;;;;;;;;;;;;;;;;AET3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASa8E,a;;;AAMX,6BAAoBC,UAApB,EAAgD;AAAA;;AAA5B,aAAAA,UAAA,GAAAA,UAAA;AAFpB,aAAAvD,UAAA,GAAa,qDAAb;AA4BA,aAAAC,aAAA,GAAgB,6CAAO;AACrBC,kBAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,CADW;AAErBC,oBAAU,EAAE,CAAC,EAAD,EAAK,EAAL,CAFS;AAGrBC,iBAAO,EAAE;AAHY,SAAP,CAAhB;AA1BmD;;;;mCAE3C;AAAA;;AACN,eAAKC,eAAL;AACA,eAAKT,QAAL,GAAgB;AACdzB,mBAAO,EAAE,KAAKoF,UAAL,CAAgBC,QAAhB,CAAyBC,MAAzB,CAAgCtF,OAD3B;AAEdC,oBAAQ,EAAE,KAAKmF,UAAL,CAAgBC,QAAhB,CAAyBC,MAAzB,CAAgCrF;AAF5B,WAAhB;AAKA,eAAKmF,UAAL,CAAgBE,MAAhB,CAAuB5F,SAAvB,CACE,UAAC4F,MAAD,EAAoB;AAClB,gBAAIC,IAAI,GAAG,+CAAS,CAACD,MAAM,CAACtF,OAAR,EAAiBsF,MAAM,CAACrF,QAAxB,CAAT,EAA4C;AACrD+C,kBAAI,EAAE,MAAI,CAAClB;AAD0C,aAA5C,EAERW,KAFQ,CAEF,MAAI,CAACJ,IAFH,CAAX;AAGD,WALH;AAOD;;;0CAEsB;AACrB,eAAKA,IAAL,GAAY,4CAAM,MAAN,EAAcC,OAAd,CAAsB,CAAC,kBAAD,EAAqB,CAAC,iBAAtB,CAAtB,EAAgE,EAAhE,CAAZ;AACA,4DAAY,KAAKT,UAAjB,EAA6B;AAC3BU,mBAAO,EAAE,EADkB;AAE3BC,uBAAW,EAAE;AAFc,WAA7B,EAGGC,KAHH,CAGS,KAAKJ,IAHd;AAID;;;;;;;uBA9BU8C,a,EAAa,+H;AAAA,K;;;YAAbA,a;AAAa,+B;AAAA,c;AAAA,a;AAAA,sE;AAAA;AAAA;ACT1B;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;sEDKaA,a,EAAa;cALzB,uDAKyB;eALf;AACThF,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,uBAFJ;AAGTC,mBAAS,EAAE,CAAC,sBAAD;AAHF,S;AAKe,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEFpB;;AAA6C;AAAA;;AAAA;;AAAA;AAAA;;AAA8B;;AAAa;;;;;;AAD1F;;AACE;;AACF;;;;;;AADK;;AAAA;;;;;;;;;;;;;;AAGH;;AAAyD;;AAAc;;AACvE;;AAA4D;;AAAW;;;;AADxC;;AACA;;AAAA;;;;;;;;;;;;;;;;QCDxBmF,e;;;AAGX,+BAAoBnB,WAApB,EAAsD7C,MAAtD,EAAqE;AAAA;;AAAjD,aAAA6C,WAAA,GAAAA,WAAA;AAAkC,aAAA7C,MAAA,GAAAA,MAAA;AAF/C,aAAAiE,KAAA,GAAyB,KAAKpB,WAAL,CAAiBqB,OAAjB,CAAyBlB,IAAlD;AAEiE;;;;mCAE7D,CAEV;;;mCAEa;;;;;;;;;;AAEV,2BAAM,KAAKH,WAAL,CAAiBsB,MAAjB,EAAN;;;AACA,yBAAKnE,MAAL,CAAYmC,QAAZ,CAAqB,CAAC,QAAD,CAArB;;;;;;;AAEAH,2BAAO,CAACC,GAAR;;;;;;;;;AAEH;;;;;;;uBAhBU+B,e,EAAe,kI,EAAA,uH;AAAA,K;;;YAAfA,e;AAAe,iC;AAAA,e;AAAA,c;AAAA,8X;AAAA;AAAA;ADV5B;;AACE;;AAAmC;;AAAU;;AAC7C;;AACE;;AAAoD;;AAAqB;;AAAsB;;AAAS;;AAAO;;AAC/G;;AAAiD;;AAAgB;;AAAsB;;AAAS;;AAAO;;AACvG;;AAAyD;;AAAiB;;AAAsB;;AAAS;;AAAO;;AAChH;;;;AAGA;;AAIF;;AACF;;;;;;AAXwB;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACd;;AAAA,wJAAyC,UAAzC,EAAyC,IAAzC;;;;;;;;;;sECIGA,e,EAAe;cAL3B,uDAK2B;eALjB;AACTrF,kBAAQ,EAAE,YADD;AAETC,qBAAW,EAAE,yBAFJ;AAGTC,mBAAS,EAAE,CAAC,wBAAD;AAHF,S;AAKiB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCAfuF,iB;;;AAQX,iCAAoBvB,WAApB,EAAsD7C,MAAtD,EAAsE;AAAA;;AAAlD,aAAA6C,WAAA,GAAAA,WAAA;AAAkC,aAAA7C,MAAA,GAAAA,MAAA;AALtD,aAAAmD,IAAA,GAAO,IAAI,wDAAJ,CAAc;AACnBC,eAAK,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CADY;AAEnBC,kBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB;AAFS,SAAd,CAAP;AAKyE;;;;mCAEjE,CACP;;;qCAEkB;;;;;;;;;;wCACW,KAAKF,IAAL,CAAUG,K,EAA9BF,K,qBAAAA,K,EAAOC,Q,qBAAAA,Q;;;AAEA,2BAAM,KAAKR,WAAL,CAAiBwB,QAAjB,CAA0BjB,KAA1B,EAAiCC,QAAjC,CAAN;;;AAAPL,wB;;AACN,wBAAIA,IAAJ,EAAU;AACR,2BAAKhD,MAAL,CAAYmC,QAAZ,CAAqB,CAAC,aAAD,CAArB;AACAqB,4BAAM,CAACC,KAAP,CAAa,kBAAb;AACD;;;;;;;;AAEDzB,2BAAO,CAACC,GAAR;;;;;;;;;AAEH;;;;;;;uBAxBUmC,iB,EAAiB,kI,EAAA,uH;AAAA,K;;;YAAjBA,iB;AAAiB,mC;AAAA,e;AAAA,a;AAAA,ya;AAAA;AAAA;ACV9B;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAyB;AAAA,mBAAY,IAAAE,UAAA,EAAZ;AAAwB,WAAxB;;AACrB;;AACI;;AAAO;;AAAK;;AACZ;;AAAiE;AAAA;AAAA;;AAAjE;;AAEJ;;AACA;;AACI;;AAAO;;AAAU;;AACjB;;AAAuE;AAAA;AAAA;;AAAvE;;AACJ;;AACA;;AAAyB;;AACgB;;AAAW;;AACpD;;AACA;;AACI;;AAA6B;;AAAqB;;AACtD;;AACJ;;AACJ;;AACJ;;;;AAlBc;;AAAA;;AAGmE;;AAAA;;AAKM;;AAAA;;AAGnE;;AAAA;;AAGD;;AAAA;;;;;;;;;sEDPNF,iB,EAAiB;cAL7B,uDAK6B;eALnB;AACTzF,kBAAQ,EAAE,cADD;AAETC,qBAAW,EAAE,2BAFJ;AAGTC,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKmB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QECjB0F,W;;;AAEX,2BAAmBL,OAAnB,EAAoDM,WAApD,EAAmF;AAAA;;AAAhE,aAAAN,OAAA,GAAAA,OAAA;AAAiC,aAAAM,WAAA,GAAAA,WAAA;AAClD,aAAK1B,SAAL,GAAiBoB,OAAO,CAACO,SAAzB;AACD;;;;2CAEkBpD,Q,EAAU;AAC3B,iBAAO,KAAKmD,WAAL,CAAiBE,UAAjB,CAA4B,mBAA5B,EAAiDC,GAAjD,CAAqDtD,QAArD,CAAP;AACD;;;uCAEc;AACb,iBAAO,KAAKmD,WAAL,CAAiBE,UAAjB,CAA4B,mBAA5B,EAAiDE,eAAjD,EAAP;AACD;;;yCAEgBhD,U,EAAY;AAC3B,eAAK4C,WAAL,CAAiBjG,GAAjB,CAAqB,uBAAuBqD,UAA5C;AACD;;;kDAEyBiD,S,EAAW;AACnC,iBAAO,KAAKL,WAAL,CAAiBE,UAAjB,CAA4B,WAA5B,EAAyCC,GAAzC,CAA6CE,SAA7C,CAAP;AACD;;;0CAGiB;AAChB,iBAAO,KAAKL,WAAL,CAAiBE,UAAjB,CAA4B,WAA5B,EAAyCE,eAAzC,EAAP;AACD;;;uCAEoBxB,K,EAAeC,Q,EAAkB;;;;;;;;;;AACxC,2BAAM,KAAKa,OAAL,CAAaY,0BAAb,CACf1B,KADe,EACRC,QADQ,CAAN;;;AAANvB,uB;sDAECA,G;;;;;;;;;AACR;;;iCAEcsB,K,EAAeC,Q,EAAkB;;;;;;;;;;;AAEhC,2BAAM,KAAKa,OAAL,CAAaa,8BAAb,CACf3B,KADe,EACRC,QADQ,CAAN;;;AAANvB,uB;sDAECA,G;;;;;AAEP0B,0BAAM,CAACC,KAAP,CAAa,6EAAb;AACAzB,2BAAO,CAACC,GAAR;;;;;;;;;AAEH;;;iCAEc;;;;;;;;;AACb,2BAAM,KAAKiC,OAAL,CAAac,OAAb,EAAN;;;;;;;;;AACD;;;;;;;uBA9CUT,W,EAAW,0H,EAAA,gI;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBAFV;;;;;sEAEDA,W,EAAW;cAHvB,wDAGuB;eAHZ;AACVtB,oBAAU,EAAE;AADF,S;AAGY,Q;;;;;;;;;;;;;;;;;;;;;;;;ACXxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAYagC,gC;;;AAcX,gDAAYC,MAAZ,EAA0CpH,WAA1C,EAAoE;AAAA;;AAA1B,aAAAA,WAAA,GAAAA,WAAA;AAT1C,aAAAmC,QAAA,GAAW,IAAX;AAGA,aAAAkF,SAAA,GAAY,eAAZ;AACA,aAAAzG,KAAA,GAAgB0G,IAAI,CAACC,GAAL,EAAhB;AACA,aAAAC,UAAA,GAAsB,KAAtB;AACA,aAAAC,iBAAA,GAA6B,KAA7B;AACA,aAAAlF,UAAA,GAAa,qDAAb;;AA6DA,aAAAmF,uBAAA,GAA0B,YAAY;AAAA;;AACpC,eAAKN,MAAL,CAAYO,WAAZ,CAAwB;AACtBC,mBAAO,EAAE,iBAACpH,OAAD,EAAa;AACpB,kBAAIA,OAAO,CAACoH,OAAR,CAAgBhD,GAApB,EAAyB;AACvB,oBAAIA,GAAG,GAAGpE,OAAO,CAACoH,OAAR,CAAgBhD,GAA1B;AACA,oBAAIC,GAAG,GAAGrE,OAAO,CAACoH,OAAR,CAAgB/C,GAA1B;;AACA,oBAAI,MAAI,CAAC1C,QAAT,EAAmB;AACjB,wBAAI,CAACY,IAAL,CAAUuB,WAAV,CAAsB,MAAI,CAACnC,QAA3B;AACD;;AACD+B,uBAAO,CAACC,GAAR,CAAY3D,OAAZ;AACA,sBAAI,CAAC2B,QAAL,GAAgB,+CAAS,CAACyC,GAAD,EAAMC,GAAN,CAAT,EAAqB;AACnCnB,sBAAI,EAAE,MAAI,CAAClB;AADwB,iBAArB,EAEbmB,SAFa,CAEH,MAFG,EAEKC,SAFL,GAEiBT,KAFjB,CAEuB,MAAI,CAACJ,IAF5B,CAAhB;;AAGA,oBAAI,MAAI,CAAC0E,iBAAT,EAA4B;AAC1B,sBAAI,MAAI,CAACI,cAAL,CAAoBjD,GAApB,EAAyBC,GAAzB,EAA8B,MAAI,CAACiD,KAAL,CAAWC,SAAX,GAAuBnD,GAArD,EAA0D,MAAI,CAACkD,KAAL,CAAWC,SAAX,GAAuBlD,GAAjF,KAAyF,MAAI,CAACiD,KAAL,CAAWE,SAAX,EAA7F,EAAqH;AACnH,0BAAI,CAACF,KAAL,CAAWG,QAAX,CAAoB;AAClBC,2BAAK,EAAE;AADW,qBAApB;;AAGA,0BAAI,CAACV,UAAL,GAAkB,KAAlB;AACD,mBALD,MAKO;AACL,0BAAI,CAACW,YAAL,GAAoBvD,GAApB;AACA,0BAAI,CAACwD,aAAL,GAAqBvD,GAArB;;AACA,0BAAI,CAACiD,KAAL,CAAWG,QAAX,CAAoB;AAClBC,2BAAK,EAAE;AADW,qBAApB;;AAGA,wBAAI,CAAC,MAAI,CAACV,UAAV,EAAsB;AACpB,4BAAI,CAACa,2BAAL;;AACA,4BAAI,CAACb,UAAL,GAAkB,IAAlB;AACD;AACF;;AAAA;AACF;AAEF;AACF;AAhCqB,WAAxB;AAkCD,SAnCD;;AAqCA,aAAAhF,aAAA,GAAgB,6CAAO;AACrBC,kBAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,CADW;AAErBC,oBAAU,EAAE,CAAC,EAAD,EAAK,EAAL,CAFS;AAGrBC,iBAAO,EAAE;AAHY,SAAP,CAAhB;AA/FE,aAAKyE,MAAL,GAAcA,MAAd;AACA,aAAKA,MAAL,CAAYkB,IAAZ,CAAiB;AACfC,oBAAU,EAAE,4CADG;AAEfC,sBAAY,EAAE;AAFC,SAAjB;AAID;;;;mCAEO;AACN,eAAK5F,eAAL;AACA,eAAK8E,uBAAL;AACA,eAAKN,MAAL,CAAYhH,SAAZ,CAAsB;AAAEqI,oBAAQ,EAAE,CAAC,KAAKpB,SAAN;AAAZ,WAAtB;AACA,eAAKvE,eAAL;AACD;;;0CAEsB;AACrB,eAAKC,IAAL,GAAY,4CAAM,MAAN,EAAcC,OAAd,CAAsB,CAAC,kBAAD,EAAqB,CAAC,iBAAtB,CAAtB,EAAgE,EAAhE,CAAZ;AACA,4DAAY,KAAKT,UAAjB,EAA6B;AAC3BU,mBAAO,EAAE,EADkB;AAE3BC,uBAAW,EAAE;AAFc,WAA7B,EAGGC,KAHH,CAGS,KAAKJ,IAHd;AAID;;;0CAEiB;AAAA;;AAChB,eAAK/C,WAAL,CAAiBsD,YAAjB,GAAgClD,SAAhC,CAA0C,UAAAC,IAAI,EAAI;AAChD,kBAAI,CAACqI,eAAL,GAAuBrI,IAAI,CAACE,GAAL,CAAS,UAAAf,CAAC,EAAI;AACnC,qBAAO;AACLM,kBAAE,EAAEN,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcX,EADb;AAELY,uBAAO,EAAElB,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,SAArB,CAFJ;AAGLM,wBAAQ,EAAEnB,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,UAArB,CAHL;AAILmD,yBAAS,EAAEhE,CAAC,CAACgB,OAAF,CAAUC,GAAV,CAAcJ,IAAd,GAAqB,WAArB;AAJN,eAAP;AAMD,aAPsB,CAAvB;;AAQA,gBAAI,MAAI,CAACqI,eAAL,CAAqBjF,MAArB,IAA+B,CAAnC,EAAsC;AACpC,oBAAI,CAACgE,iBAAL,GAAyB,IAAzB;AACA,kBAAIkB,MAAM,GAAG,+CAAS,CAAC,MAAI,CAACD,eAAL,CAAqB,CAArB,EAAwBhI,OAAzB,EAAkC,MAAI,CAACgI,eAAL,CAAqB,CAArB,EAAwB/H,QAA1D,CAAT,EAA8E,MAAI,CAAC+H,eAAL,CAAqB,CAArB,EAAwBlF,SAAxB,GAAoC,EAAlH,EAAsH;AACjI0E,qBAAK,EAAE;AAD0H,eAAtH,EAEV/E,KAFU,CAEJ,MAAI,CAACJ,IAFD,CAAb;AAGA,oBAAI,CAAC+E,KAAL,GAAa,+CAAS,CAAC,MAAI,CAACY,eAAL,CAAqB,CAArB,EAAwBhI,OAAzB,EAAkC,MAAI,CAACgI,eAAL,CAAqB,CAArB,EAAwB/H,QAA1D,CAAT,EAA8E,MAAI,CAAC+H,eAAL,CAAqB,CAArB,EAAwBlF,SAAtG,EAAiHL,KAAjH,CAAuH,MAAI,CAACJ,IAA5H,CAAb;AACD;AACF,WAhBD;AAiBD;;;sDAE6B;AAC5B,cAAI6F,SAAS,GAAG,EAAhB;AACAA,mBAAS,CAAC,SAAD,CAAT,GAAuB,KAAKT,YAA5B;AACAS,mBAAS,CAAC,UAAD,CAAT,GAAwB,KAAKR,aAA7B;AACAQ,mBAAS,CAAC,OAAD,CAAT,GAAqB,KAAKhI,KAA1B;AACA,eAAKZ,WAAL,CAAiB6I,yBAAjB,CAA2CD,SAA3C,EAAsDrJ,IAAtD,CAA2D,UAAAyE,GAAG,EAAI,CACjE,CADD,WACS,UAAAI,KAAK,EAAI;AAChBF,mBAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,WAHD;AAID;;;uCAEcQ,G,EAAKC,G,EAAKiE,S,EAAWC,S,EAAW;AAC7C,cAAIC,QAAQ,GAAG,KAAKjG,IAAL,CAAUiG,QAAV,CAAmB,CAACpE,GAAD,EAAMC,GAAN,CAAnB,EAA+B,CAACiE,SAAD,EAAYC,SAAZ,CAA/B,CAAf;AACA,iBAAOC,QAAP;AACD;;;;;;;uBAvEU7B,gC,EAAgC,8H,EAAA,kI;AAAA,K;;;YAAhCA,gC;AAAgC,oD;AAAA,kFAHhC,CAAC,6DAAD,CAGgC,E;AAHjB,c;AAAA,a;AAAA,sE;AAAA;AAAA;ACT5B;;AACI;;AACI;;AACJ;;AACJ;;;;;;;;sEDQaA,gC,EAAgC;cAP5C,uDAO4C;eAPlC;AACTtG,kBAAQ,EAAE,+BADD;AAETC,qBAAW,EAAE,4CAFJ;AAGTC,mBAAS,EAAE,CAAC,2CAAD,CAHF;AAITgB,mBAAS,EAAE,CAAC,6DAAD;AAJF,S;AAOkC,Q;;;;;;;;;;;;;;;;;;;;;;;;AEZ7C;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAMkH,WAAW,GAAG;AACzBC,gBAAU,EAAE,KADa;AAEzBpH,cAAQ,EAAE;AACRqH,cAAM,EAAE,yCADA;AAERC,kBAAU,EAAE,kCAFJ;AAGRC,mBAAW,EAAE,yCAHL;AAIRC,iBAAS,EAAE,kBAJH;AAKRC,qBAAa,EAAE,8BALP;AAMRC,yBAAiB,EAAE,cANX;AAORC,aAAK,EAAE,2CAPC;AAQRC,qBAAa,EAAE;AARP;AAFe,KAApB;AAcP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACzBA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYR,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBS,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAI1F,OAAO,CAACE,KAAR,CAAcwF,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { CrudService } from '../service/crud.service'\r\n\r\n@Component({\r\n  selector: 'app-analisis',\r\n  templateUrl: './analisis.component.html',\r\n  styleUrls: ['./analisis.component.css']\r\n})\r\nexport class AnalisisComponent implements OnInit {\r\n  Ubicaciones: any;\r\n  numero: number = 1;\r\n\r\n  constructor(public crudService: CrudService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.obtenerUbicacion();\r\n  }\r\n\r\n  obtenerUbicacion() {\r\n    this.crudService.get_Ubicaciones().subscribe(data => {\r\n      this.Ubicaciones = data.map(e => {\r\n        return {\r\n          id: e.payload.doc.id,\r\n          numero: this.numero++,\r\n          latitud: e.payload.doc.data()['latitud'],\r\n          longitud: e.payload.doc.data()['longitud'],\r\n          fecha: e.payload.doc.data()['fecha'],\r\n        };\r\n      })\r\n    })\r\n  }\r\n}\r\n","<div class=\"container col-md-10\">\r\n    <br><br>\r\n    <p class=\"text-left\"><span>\r\n            <h2>Historial de ubicaciones</h2>\r\n        </span></p>\r\n    <p class=\"text-center\"><span>\r\n            <h5>A continuación se muestra el historial de ubicaciones en\r\n                que el ganado se ha alejado del margen permitido</h5>\r\n        </span></p>\r\n    <br>\r\n    <div class=\"row\">\r\n        <div class=\"table-responsive\">\r\n            <table class=\"table table-striped table-dark\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Fecha</th>\r\n                        <th scope=\"col\" >Latitud</th>\r\n                        <th scope=\"col\">Longitud</th>\r\n                        <th scope=\"col\">Visualizar</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let ubicacion of Ubicaciones\">\r\n                        <th scope=\"row\">{{ubicacion.numero}}</th>\r\n                        <td >{{ubicacion.fecha | date:'medium'}}</td>\r\n                        <td >{{ubicacion.latitud}}</td>\r\n                        <td>{{ubicacion.longitud}}</td>\r\n                        <td><a [routerLink]=\"['/mapa',ubicacion.latitud,ubicacion.longitud]\">Ver en mapa</a></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n           \r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport { VisualizarUbicacionMapaComponent } from './visualizar-ubicacion-mapa/visualizar-ubicacion-mapa.component';\r\nimport { ColocarMarcadoresComponent } from './colocar-marcadores/colocar-marcadores.component';\r\nimport { AnalisisComponent } from './analisis/analisis.component';\r\nimport { MapaComponent } from './mapa/mapa.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport {PermisoVerGuard} from './guards/permiso-ver.guard';\r\n\r\nconst routes: Routes =[\r\n  {path: '', redirectTo: '/visualizar', pathMatch: 'full'},\r\n  {path: 'visualizar', component: VisualizarUbicacionMapaComponent, canActivate: [PermisoVerGuard]},\r\n  {path: 'insertar', component: ColocarMarcadoresComponent, canActivate: [PermisoVerGuard]},\r\n  {path: 'datosAlmacenados', component: AnalisisComponent, canActivate: [PermisoVerGuard]},\r\n  {path: 'mapa/:latitud/:longitud', component: MapaComponent},\r\n  {path: 'login', component: LoginComponent},\r\n  {path: 'register', component: RegisterComponent}\r\n\r\n]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    RouterModule.forRoot(routes)\r\n  ],\r\n  exports:[RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\nimport {CrudService} from './service/crud.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'rastreadorW';\r\n\r\n  constructor(public crudService: CrudService){ }\r\n\r\n}\r\n","<app-navbar></app-navbar>\r\n<main>\r\n  <router-outlet></router-outlet>\r\n</main>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {AngularFireModule} from '@angular/fire';\r\nimport {AngularFireDatabaseModule} from '@angular/fire/database';\r\nimport {environment} from '../environments/environment';\r\nimport {AngularFirestoreModule} from '@angular/fire/firestore';\r\nimport {AngularFireAuthModule} from '@angular/fire/auth'\r\n\r\n//service\r\nimport {CrudService} from './service/crud.service';\r\n\r\n//Leaflet\r\nimport {LeafletModule} from '@asymmetrik/ngx-leaflet';\r\n\r\n//Pubnub\r\nimport {PubNubAngular} from 'pubnub-angular2'; \r\n\r\nimport { AppComponent } from './app.component';\r\nimport { VisualizarUbicacionMapaComponent } from './visualizar-ubicacion-mapa/visualizar-ubicacion-mapa.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { ColocarMarcadoresComponent } from './colocar-marcadores/colocar-marcadores.component';\r\nimport { AnalisisComponent } from './analisis/analisis.component';\r\nimport { MapaComponent } from './mapa/mapa.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { PermisoVerGuard } from './guards/permiso-ver.guard';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    VisualizarUbicacionMapaComponent,\r\n    ColocarMarcadoresComponent,\r\n    AnalisisComponent,\r\n    MapaComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    NavbarComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireDatabaseModule,\r\n    AngularFirestoreModule,\r\n    AppRoutingModule,\r\n    LeafletModule,\r\n    ReactiveFormsModule,\r\n    AngularFireAuthModule\r\n  ],\r\n  providers: [CrudService,PubNubAngular, PermisoVerGuard],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CrudService } from '../service/crud.service';\r\nimport * as L from 'leaflet';\r\n\r\n@Component({\r\n  selector: 'app-colocar-marcadores',\r\n  templateUrl: './colocar-marcadores.component.html',\r\n  styleUrls: ['./colocar-marcadores.component.css']\r\n})\r\nexport class ColocarMarcadoresComponent implements OnInit {\r\n  mapa;\r\n  Marcador: any;\r\n  marcador = null;\r\n  latitud: number;\r\n  longitud: number;\r\n  distancia: number;\r\n  idMarcador: number;\r\n  isMarcadorGuardadoBD: boolean = false;\r\n  permitirColocarMarcador: boolean = true;\r\n  isMarcadorColocadoMapa: boolean = false;\r\n  urlAPIMapa = 'https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png';\r\n\r\n  constructor(public crudService: CrudService, public router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.inicializarMapa();\r\n    this.agregarQuitarMarcadorClick();\r\n    this.obtenerMarcador();\r\n  }\r\n\r\n  private inicializarMapa(): void {\r\n    this.mapa = L.map('mapa').setView([16.752769803087457, -93.11428070068361], 13);\r\n    L.tileLayer(this.urlAPIMapa, {\r\n      maxZoom: 18,\r\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n    }).addTo(this.mapa);\r\n    this.mapa.doubleClickZoom.disable();\r\n  }\r\n\r\n  obtenerMarcador() {\r\n    this.crudService.get_Marcador().subscribe(data => {\r\n      this.Marcador = data.map(e => {\r\n        return {\r\n          id: e.payload.doc.id,\r\n          latitud: e.payload.doc.data()['latitud'],\r\n          longitud: e.payload.doc.data()['longitud'],\r\n          distancia: e.payload.doc.data()['distancia'],\r\n        };\r\n      })\r\n      if (this.Marcador.length == 1) {\r\n        this.marcador = L.marker([this.Marcador[0].latitud, this.Marcador[0].longitud], {\r\n          icon: this.iconoMarcador\r\n        })\r\n          .bindPopup('Aquí').openPopup();\r\n        this.mapa.addLayer(this.marcador);\r\n        this.distancia = this.Marcador[0].distancia;\r\n        this.idMarcador = this.Marcador[0].id;\r\n        this.isMarcadorGuardadoBD = true;\r\n        this.permitirColocarMarcador = false;\r\n      }\r\n    })\r\n  }\r\n\r\n  crearMarcador() {\r\n    let Marcador = {};\r\n    Marcador['latitud'] = this.latitud;\r\n    Marcador['longitud'] = this.longitud;\r\n    Marcador['distancia'] = this.distancia;\r\n    this.crudService.crearNuevaMarcador(Marcador).then(res => {\r\n      this.latitud = undefined;\r\n      this.longitud = undefined;\r\n      console.log(res);\r\n    }).catch(error => {\r\n      console.log(error);\r\n    })\r\n    this.router.navigate(['/visualizar']);\r\n    console.log('Marcador creado');\r\n  }\r\n\r\n  eliminarMarcador() {\r\n    this.mapa.removeLayer(this.marcador);\r\n    this.permitirColocarMarcador = true;\r\n    this.crudService.eliminarMarcador(this.idMarcador);\r\n    this.isMarcadorColocadoMapa = false;\r\n    this.isMarcadorGuardadoBD = false;\r\n    this.distancia = undefined;\r\n    console.log('Marcador eliminado');\r\n  }\r\n\r\n  agregarQuitarMarcadorClick() {\r\n    this.mapa.on('dblclick', e => {\r\n      let latitudLongitud = this.mapa.mouseEventToLatLng(e.originalEvent);\r\n\r\n      if (this.isMarcadorColocadoMapa) {\r\n        this.mapa.removeLayer(this.marcador);\r\n        this.isMarcadorColocadoMapa = false;\r\n\r\n      } else if (!this.isMarcadorColocadoMapa && this.permitirColocarMarcador) {\r\n        this.latitud = latitudLongitud.lat;\r\n        this.longitud = latitudLongitud.lng;\r\n        this.marcador = L.marker([latitudLongitud.lat, latitudLongitud.lng], {\r\n          icon: this.iconoMarcador\r\n        })\r\n          .addTo(this.mapa);\r\n        this.isMarcadorColocadoMapa = true;\r\n      }\r\n    })\r\n  }\r\n\r\n  iconoMarcador = L.icon({\r\n    iconSize: [60, 60],\r\n    iconAnchor: [30, 60],\r\n    iconUrl: 'assets/marcador.png'\r\n  });\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div class=\"row\">\r\n    <div id=\"mapa\" style=\"width: 100%; height: 375px;\"></div>\r\n\r\n\r\n    <div class=\"col-12\">\r\n      <br><br>\r\n      <span>\r\n        <h2>Inserción Marcador</h2>\r\n      </span>\r\n      <div id=\"ingresoDatos\" *ngIf=\"!isMarcadorGuardadoBD; else MostrarEliminar\" class=\"container\">\r\n        <br>\r\n        <h6> Presione dos veces en el mapa para insertar un marcador e ingrese\r\n          la distancia máxima (en métros) del radio que permitirá alejarse el ganado.\r\n        </h6>\r\n        <div class=\"form-group\">\r\n          <input class=\"form-control\" type=\"number\" [(ngModel)]=\"distancia\" placeholder=\"Distancia máxima permitida\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <button class=\"btn btn-primary\" [disabled]=\"!distancia || !isMarcadorColocadoMapa\"\r\n            (click)=\"crearMarcador()\">Aceptar</button>\r\n        </div>\r\n      </div>\r\n\r\n      <ng-template #MostrarEliminar>\r\n        <div class=\"container\">\r\n          <br>\r\n          <h6>Presione el botón para eliminar el marcador actual e insertar uno nuevo</h6>\r\n          <div class=\"form-group\">\r\n            <button class=\"btn btn-danger\" (click)=\"eliminarMarcador()\">Eliminar</button>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <span><b>Distancia</b> </span>\r\n            <input class=\"form-control border border-primary\" type=\"number\" [(ngModel)]=\"distancia\"\r\n              placeholder=\"Distancia máxima permitida\">\r\n          </div>\r\n          <br>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { CrudService } from '../service/crud.service'\r\nimport { map, take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PermisoVerGuard implements CanActivate {\r\n\r\n  constructor(private authService: CrudService, private router: Router) { }\r\n  canActivate(): Observable<boolean> {\r\n    return this.authService.userData$.pipe(\r\n      take(1),\r\n      map((user) => {\r\n        if (!user) {\r\n          this.router.navigate(['/login']);\r\n          return false;\r\n        }\r\n        return true;\r\n      }),\r\n    );\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { CrudService } from '../service/crud.service';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  email: string;\r\n  password: string;\r\n  form = new FormGroup({\r\n    email: new FormControl(''),\r\n    password: new FormControl(''),\r\n  });\r\n\r\n  constructor(private authService: CrudService, private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async onLogin() {\r\n    const { email, password } = this.form.value;\r\n    try {\r\n      const user = await this.authService.loginUserEmail(email, password);\r\n      if (user) {\r\n        this.router.navigate(['./visualizar']);\r\n      }\r\n    } catch (error) {\r\n      window.alert(\"Correo o contraseña inválidos\")\r\n      console.log(error)\r\n    }\r\n\r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-body\">\r\n        <h3>Inicio de sesión</h3>\r\n        <form [formGroup]=\"form\" (ngSubmit)=\"onLogin()\">\r\n            <div class=\"form-group\">\r\n                <label>Email</label>\r\n                <input formControlName=\"email\" type=\"email\" class=\"form-control\" [(ngModel)]=\"email\"\r\n                    aria-describedby=\"emailHelp\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>Contraseña</label>\r\n                <input formControlName=\"password\" type=\"password\" class=\"form-control\" [(ngModel)]=\"password\">\r\n            </div>\r\n            <div class=\"form.group\">\r\n                <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!email || !password\">Iniciar sesión</button>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label><a [routerLink]=\"['/register']\" href=\"\">Registrarse</a></label>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport * as L from 'leaflet';\r\n\r\n@Component({\r\n  selector: 'app-mapa',\r\n  templateUrl: './mapa.component.html',\r\n  styleUrls: ['./mapa.component.css']\r\n})\r\nexport class MapaComponent implements OnInit {\r\n\r\n  public mapa;\r\n  marcador: { latitud: number, longitud: number };\r\n  urlAPIMapa = 'https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png';\r\n\r\n  constructor(private rutaActiva: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.inicializarMapa();\r\n    this.marcador = {\r\n      latitud: this.rutaActiva.snapshot.params.latitud,\r\n      longitud: this.rutaActiva.snapshot.params.longitud\r\n    }\r\n\r\n    this.rutaActiva.params.subscribe(\r\n      (params: Params) => {\r\n        var mark = L.marker([params.latitud, params.longitud], {\r\n          icon: this.iconoMarcador\r\n        }).addTo(this.mapa);\r\n      }\r\n    )\r\n  }\r\n\r\n  private inicializarMapa(): void {\r\n    this.mapa = L.map('mapa').setView([16.752769803087457, -93.11428070068361], 13);\r\n    L.tileLayer(this.urlAPIMapa, {\r\n      maxZoom: 20,\r\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n    }).addTo(this.mapa);\r\n  }\r\n\r\n  iconoMarcador = L.icon({\r\n    iconSize: [60, 60],\r\n    iconAnchor: [30, 60],\r\n    iconUrl: 'assets/marcador.png'\r\n  });\r\n}\r\n","<div class=\"map-container\">\r\n    <div class=\"map-frame\">\r\n        <div id=\"mapa\" ></div>\r\n    </div>\r\n</div>\r\n","<nav class=\"navbar navbar-dark bg-dark\">\r\n  <span class=\"navbar-brand mb-0 h1\">CowTracker</span>\r\n  <form class=\"form-inline\">\r\n    <a class=\"nav-link\" [routerLink]=\"['/visualizar']\"> Ver ubicación actual <span class=\"sr-only\">(current)</span></a>\r\n    <a class=\"nav-link\" [routerLink]=\"['/insertar']\">Agregar marcador<span class=\"sr-only\">(current)</span></a>\r\n    <a class=\"nav-link\" [routerLink]=\"['/datosAlmacenados']\">Datos Almacenados<span class=\"sr-only\">(current)</span></a>\r\n    <div  *ngIf=\"user$ | async as user; else login\">\r\n      <a *ngIf=\"user\" id=\"logOut\" class=\"nav-link\" (click)=\"onLogOut()\" href=\"#\">Cerrar sesión</a>\r\n    </div>\r\n    <ng-template #login>\r\n      <a id=\"logIn\" class=\"nav-link\" [routerLink]=\"['/login']\">Iniciar sesión</a>\r\n      <a id=\"logIn\" class=\"nav-link\" [routerLink]=\"['/register']\">Registrarse</a>\r\n    </ng-template>\r\n  </form>\r\n</nav>  ","import { Component, OnInit } from '@angular/core';\r\nimport {CrudService} from '../service/crud.service';\r\nimport {Observable } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n  public user$: Observable<any> = this.authService.afsAuth.user;\r\n\r\n  constructor(private authService: CrudService, private router:Router) { }\r\n\r\n  ngOnInit() {\r\n  \r\n  }\r\n\r\n  async onLogOut(){\r\n    try{\r\n      await this.authService.logOut();\r\n      this.router.navigate(['/login']);\r\n    }catch(error){\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl } from '@angular/forms'\r\nimport { CrudService } from '../service/crud.service'\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  email: string;\r\n  password: string;\r\n  form = new FormGroup({\r\n    email: new FormControl(''),\r\n    password: new FormControl(''),\r\n  });\r\n\r\n  constructor(private authService: CrudService, private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async onRegister() {\r\n    const { email, password } = this.form.value;\r\n    try {\r\n      const user = await this.authService.register(email, password);\r\n      if (user) {\r\n        this.router.navigate(['/visualizar']);\r\n        window.alert(\"Registro exitoso\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-body\">\r\n        <h3>Registro</h3>\r\n        <form [formGroup]=\"form\" (ngSubmit)=\"onRegister()\">\r\n            <div class=\"form-group\">\r\n                <label>Email</label>\r\n                <input formControlName=\"email\" type=\"email\" class=\"form-control\" [(ngModel)]=\"email\"\r\n                    aria-describedby=\"emailHelp\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>Contraseña</label>\r\n                <input formControlName=\"password\" type=\"password\" class=\"form-control\" [(ngModel)]=\"password\">\r\n            </div>\r\n            <div class=\"form.group\"> <button type=\"submit\" class=\"btn btn-primary\"\r\n                    [disabled]=\"!email || !password\">Registrarse</button>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <a [routerLink]=\"['/login']\">¿Ya tiene una cuenta?</a>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { VirtualTimeScheduler, from, Observable } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { auth } from 'firebase/app';\r\nimport { User } from 'firebase';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CrudService {\r\n  public userData$: Observable<firebase.User>;\r\n  constructor(public afsAuth: AngularFireAuth, public fireservice: AngularFirestore) {\r\n    this.userData$ = afsAuth.authState;\r\n  }\r\n\r\n  crearNuevaMarcador(Marcador) {\r\n    return this.fireservice.collection('MarcadorDistancia').add(Marcador);\r\n  }\r\n\r\n  get_Marcador() {\r\n    return this.fireservice.collection('MarcadorDistancia').snapshotChanges();\r\n  }\r\n\r\n  eliminarMarcador(idMarcador) {\r\n    this.fireservice.doc('MarcadorDistancia/' + idMarcador).delete();\r\n  }\r\n\r\n  crearUbicacionFueraLimite(ubicacion) {\r\n    return this.fireservice.collection('ubicacion').add(ubicacion);\r\n  }\r\n\r\n\r\n  get_Ubicaciones() {\r\n    return this.fireservice.collection('ubicacion').snapshotChanges();\r\n  }\r\n\r\n  async loginUserEmail(email: string, password: string) {\r\n    const res = await this.afsAuth.signInWithEmailAndPassword\r\n      (email, password);\r\n    return res;\r\n  }\r\n\r\n  async register(email: string, password: string) {\r\n    try {\r\n      const res = await this.afsAuth.createUserWithEmailAndPassword\r\n        (email, password);\r\n      return res;\r\n    } catch (error) {\r\n      window.alert(\"Error, verifique los datos. La contraseña debe ser al menos de 6 caracteres\");\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async logOut() {\r\n    await this.afsAuth.signOut();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, AfterViewInit } from '@angular/core';\r\nimport { CrudService } from '../service/crud.service'\r\nimport * as L from 'leaflet';\r\nimport { PubNubAngular } from 'pubnub-angular2';\r\n\r\n@Component({\r\n  selector: 'app-visualizar-ubicacion-mapa',\r\n  templateUrl: './visualizar-ubicacion-mapa.component.html',\r\n  styleUrls: ['./visualizar-ubicacion-mapa.component.css'],\r\n  providers: [PubNubAngular]\r\n})\r\n\r\nexport class VisualizarUbicacionMapaComponent implements OnInit {\r\n  public mapa;\r\n  rango;\r\n  latitudFuera;\r\n  longitudFuera;\r\n  marcador = null;\r\n  MarcadorCentral: any;\r\n  pubnub: PubNubAngular;\r\n  pnChannel = \"raspi-tracker\";\r\n  fecha: number = Date.now();\r\n  fueraRango: boolean = false;\r\n  marcadorExistente: boolean = false;\r\n  urlAPIMapa = 'https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png';\r\n\r\n  constructor(pubnub: PubNubAngular, public crudService: CrudService) {\r\n    this.pubnub = pubnub;\r\n    this.pubnub.init({\r\n      publishKey: 'pub-c-6e70a79c-7af6-4177-bfb5-b7eaf484a510',\r\n      subscribeKey: 'sub-c-b1ea6414-c791-11ea-b3f2-c27cb65b13f4'\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.inicializarMapa();\r\n    this.cambiarPosicionMarcador();\r\n    this.pubnub.subscribe({ channels: [this.pnChannel] });\r\n    this.obtenerMarcador();\r\n  }\r\n\r\n  private inicializarMapa(): void {\r\n    this.mapa = L.map('mapa').setView([16.752769803087457, -93.11428070068361], 13);\r\n    L.tileLayer(this.urlAPIMapa, {\r\n      maxZoom: 18,\r\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n    }).addTo(this.mapa);\r\n  }\r\n\r\n  obtenerMarcador() {\r\n    this.crudService.get_Marcador().subscribe(data => {\r\n      this.MarcadorCentral = data.map(e => {\r\n        return {\r\n          id: e.payload.doc.id,\r\n          latitud: e.payload.doc.data()['latitud'],\r\n          longitud: e.payload.doc.data()['longitud'],\r\n          distancia: e.payload.doc.data()['distancia'],\r\n        };\r\n      })\r\n      if (this.MarcadorCentral.length == 1) {\r\n        this.marcadorExistente = true\r\n        var circle = L.circle([this.MarcadorCentral[0].latitud, this.MarcadorCentral[0].longitud], this.MarcadorCentral[0].distancia / 40, {\r\n          color: 'orange'\r\n        }).addTo(this.mapa);\r\n        this.rango = L.circle([this.MarcadorCentral[0].latitud, this.MarcadorCentral[0].longitud], this.MarcadorCentral[0].distancia).addTo(this.mapa);\r\n      }\r\n    })\r\n  }\r\n\r\n  crearUbicacionGanadoAlejado() {\r\n    let Ubicacion = {};\r\n    Ubicacion['latitud'] = this.latitudFuera;\r\n    Ubicacion['longitud'] = this.longitudFuera;\r\n    Ubicacion['fecha'] = this.fecha;\r\n    this.crudService.crearUbicacionFueraLimite(Ubicacion).then(res => {\r\n    }).catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  medirDistancia(lat, lng, latCircle, lngCircle) {\r\n    var distance = this.mapa.distance([lat, lng], [latCircle, lngCircle]);\r\n    return distance;\r\n  }\r\n\r\n  cambiarPosicionMarcador = function () {\r\n    this.pubnub.addListener({\r\n      message: (payload) => {\r\n        if (payload.message.lat) {\r\n          var lat = payload.message.lat;\r\n          var lng = payload.message.lng;\r\n          if (this.marcador) {\r\n            this.mapa.removeLayer(this.marcador);\r\n          }\r\n          console.log(payload);\r\n          this.marcador = L.marker([lat, lng], {\r\n            icon: this.iconoMarcador\r\n          }).bindPopup('Aquí').openPopup().addTo(this.mapa);\r\n          if (this.marcadorExistente) {\r\n            if (this.medirDistancia(lat, lng, this.rango.getLatLng().lat, this.rango.getLatLng().lng) <= this.rango.getRadius()) {\r\n              this.rango.setStyle({\r\n                color: 'green'\r\n              });\r\n              this.fueraRango = false;\r\n            } else {\r\n              this.latitudFuera = lat;\r\n              this.longitudFuera = lng;\r\n              this.rango.setStyle({\r\n                color: 'red'\r\n              });\r\n              if (!this.fueraRango) {\r\n                this.crearUbicacionGanadoAlejado();\r\n                this.fueraRango = true;\r\n              }\r\n            };\r\n          }\r\n\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  iconoMarcador = L.icon({\r\n    iconSize: [60, 60],\r\n    iconAnchor: [30, 60],\r\n    iconUrl: 'assets/vaca.png'\r\n  });\r\n}\r\n","<div class=\"map-container\">\r\n    <div class=\"map-frame\">\r\n        <div id=\"mapa\" ></div>\r\n    </div>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  firebase: {\r\n    apiKey: \"AIzaSyAlDYtum9Txc2zqZaP9GEaF1UFrbHDNrUk\",\r\n    authDomain: \"rastreador-ef6fe.firebaseapp.com\",\r\n    databaseURL: \"https://rastreador-ef6fe.firebaseio.com\",\r\n    projectId: \"rastreador-ef6fe\",\r\n    storageBucket: \"rastreador-ef6fe.appspot.com\",\r\n    messagingSenderId: \"455383615386\",\r\n    appId: \"1:455383615386:web:71b09d614a8e72ba5d1c23\",\r\n    measurementId: \"G-BXHWWZM1VC\"\r\n  }\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}